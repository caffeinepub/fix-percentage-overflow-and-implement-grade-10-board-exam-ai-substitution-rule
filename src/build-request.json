{
  "kind": "build_request",
  "title": "Add average percentage to subject analysis and fix mathematics elective status for commerce",
  "priority": "normal",
  "requirements": [
    {
      "id": "REQ-1",
      "text": "Display average percentage alongside average raw marks in the Subject Analysis view for each subject, calculated using the subject-specific max marks",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-latest"
        ],
        "quotes": [
          "Can you add average percentage also alongside raw marks for subject analysis"
        ]
      },
      "acceptanceCriteria": [
        "Subject Analysis table shows both average raw marks and average percentage for each subject",
        "Percentage is calculated correctly using grade-appropriate max marks",
        "Format maintains existing table layout and readability"
      ]
    },
    {
      "id": "REQ-2",
      "text": "Change Mathematics from compulsory to elective subject for Commerce subgroup (CEBA and CEBA-CS streams) in the marks entry form",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-latest"
        ],
        "quotes": [
          "maths is only elective subject for commerce subgroup not compulsory"
        ]
      },
      "acceptanceCriteria": [
        "Mathematics appears in the elective subjects section for Commerce subgroups (CEBA, CEBA-CS)",
        "Mathematics is not shown in the compulsory subjects section for Commerce subgroups",
        "Other subgroups (Science, Humanities) remain unaffected",
        "Subject configuration logic correctly handles Mathematics as elective for Commerce streams"
      ]
    }
  ],
  "constraints": [
    "Do not modify the backend subject scoring logic or data model",
    "Maintain existing percentage calculation utilities from frontend/src/lib/percent.ts",
    "Preserve the current Subject Analysis view layout and filtering functionality"
  ],
  "nonGoals": [
    "Changing subject configurations for non-Commerce subgroups",
    "Modifying the backend data storage structure",
    "Altering the grading scale or letter grade calculations",
    "Adding percentage display to other views beyond Subject Analysis"
  ],
  "imageRequirements": {
    "required": [],
    "edits": []
  }
}