{
  "kind": "implementation_plan",
  "version": "1.0",
  "title": "Add raw-marks percentage table and frequency-polygon chart",
  "requirements": [
    {
      "id": "REQ-1",
      "summary": "Create a new table component that displays raw-marks percentage for every grade (9, 10, 11, 12) across both Term 1 and Term 2, with columns for Grade, Term 1 %, and Term 2 %",
      "acceptanceCriteria": [
        "Table shows all grades (9, 10, 11, 12) with their respective Term 1 and Term 2 percentages",
        "Percentages are calculated from raw marks divided by maximum possible marks for each grade and term",
        "Table is sortable and displays formatted percentage values"
      ],
      "file_operations": [
        {
          "path": "frontend/src/components/RawMarksPercentageTable.tsx",
          "operation": "create",
          "description": "Create a new table component that fetches grade aggregate percentages using the existing getGradeAggregatePercentages backend capability and displays Term 1 and Term 2 percentages for grades 9-12. Use shadcn/ui Table components for consistent styling with the existing app. Include sortable columns for Grade, Term 1 %, and Term 2 %, formatted using the percent utility from frontend/src/lib/percent.ts. Handle loading and error states appropriately."
        }
      ]
    },
    {
      "id": "REQ-2",
      "summary": "Create a frequency-polygon chart that visualizes the combined percentage distribution using Term 1 and Term 2 data, plotting percentage ranges on the x-axis and frequency counts on the y-axis with connected line segments",
      "acceptanceCriteria": [
        "Chart displays frequency-polygon (line chart with markers) showing distribution of combined percentages from Term 1 and Term 2",
        "X-axis shows percentage ranges (e.g., 0-10%, 10-20%, etc.)",
        "Y-axis shows frequency count of students/entries in each range",
        "Line segments connect the frequency points to form a polygon shape"
      ],
      "file_operations": [
        {
          "path": "frontend/src/components/FrequencyPolygonChart.tsx",
          "operation": "create",
          "description": "Create a frequency-polygon chart component using Recharts library (consistent with existing ProgressView component). Fetch all academic entries using the existing getAcademicEntries backend capability and compute combined percentages from Term 1 and Term 2 data for each grade. Group entries into percentage ranges (e.g., 0-10%, 10-20%, ..., 90-100%) and count frequency in each range. Use Recharts LineChart with markers to create the polygon visualization. X-axis displays percentage ranges, Y-axis displays frequency counts. Apply theme-aware colors consistent with existing charts in ProgressView."
        }
      ]
    },
    {
      "id": "REQ-3",
      "summary": "Integrate the new raw-marks percentage table and frequency-polygon chart into the existing AcademicModule component, adding them as new tabs or sections in the Progress View",
      "acceptanceCriteria": [
        "Both new components are accessible from the Academic Module interface",
        "Navigation between existing views and new views is seamless",
        "Data flows correctly from existing academic entries to populate both visualizations"
      ],
      "file_operations": [
        {
          "path": "frontend/src/components/AcademicModule.tsx",
          "operation": "modify",
          "description": "Add two new tabs to the existing Tabs component: 'Raw Marks %' and 'Frequency Distribution'. Import and render RawMarksPercentageTable and FrequencyPolygonChart components in their respective tab panels. Maintain the existing tab structure for 'Add Marks', 'Progress View', and 'Subject Analysis'. Ensure the new tabs follow the same layout and styling patterns as existing tabs."
        }
      ]
    }
  ]
}